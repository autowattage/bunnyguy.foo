@use 'sass:math';
@import 'varsindex';
@import 'colors';

main {
  margin: auto 0;
  display: flex; flex-direction: column;
  background-color: $black; color: $white;

  #landing {
    display: flex; padding: $padding 0;
    background-color: $white; color: $black;
    > a {
      background-color: $red; flex-grow: 1; margin-right: -$landing-gap + $padding*1.25;
      clip-path: polygon(0 0, 0 100%, calc(100% - $landing-gap) 100%, 100% 0);
    }
    nav {
      display: flex; flex-direction: column;
      text-align: right;
      width: $sitenav-width;
      clip-path: polygon($landing-gap 0, 0 100%, 100% 100%, 100% 0);
      a {
        padding: $padding; color: $black;
        &:nth-child(1) {background-color: $yellow;}
        &:nth-child(2) {background-color: $green;}
        &:nth-child(3) {background-color: $blue;}
      }
    }
  }

  #art {
    display: flex; flex-direction: column; gap: $padding;
    background-color: $white; color: $black; padding-bottom: $padding;
    .imggallery img {height: 10rem;}
   }

  #blog {
    display: flex; gap: $padding*2; flex-direction: column;
    width: 85%; margin: $padding auto;
    nav {
      transform: skew(5deg);
      display: flex; gap: $padding*1.5;
      margin-left: $padding; flex-wrap: wrap;
      a {
        position: relative;
        flex-basis: 42%; flex-grow: 1; color: $black;
        background-color: $green; padding: $padding;
        &:nth-child(1) {
          background-color: $yellow;
          &::after, &::before {background-color: $green;}
        }
        &:nth-child(3) {
          background-color: $blue;
          &::after, &::before {background-color: $purple;}
        }
      }
      
      a::before, a::after {
        content:""; display: block; position: absolute;
        background-color: $blue;
      }
      a::before {
        left: -$padding; top: $padding/2;
        width: $padding; height: 100%;
        transform: skew(0, -45deg);
      }
      a::after {
        right: $padding/2; top:100%; 
        height: $padding; width: 100%;
        transform: skew(-45deg, 0);
      }
    }
    #statuscafe {
      transform: skew(5deg);
      background-color: $white; color: $black;
      padding: $padding $padding $padding*3;
      clip-path: polygon(
        0 0,
        0 calc(100% - $padding*2),
        calc(100% - $padding*4) calc(100% - $padding*2),
        calc(100% - $padding*3) 100%,
        calc(100% - $padding*2) calc(100% - $padding*2),
        100% calc(100% - $padding*2),
        100% 0
      )
    }
  }

  #code {
    display: flex; gap: $padding;
    padding-bottom: $padding; flex-direction: column;
    .btnexpand { order: 2; }
    > div {
      display: flex; gap: $padding; flex-direction: column;
      img {flex-basis: 8rem;}
      .imggallery {min-height: 0; flex-basis: 10rem;}
    }
  }
  #personal {
    display: grid; grid-gap: $padding; height: 15rem;
    background-color: $white; color: $black; padding: $padding 0;
    grid: 1fr 2fr / 1fr 1.75fr 1fr;
    > * {
      background-color: red; margin: 0;
      width: 100%; height: 100%;
    }
    h2 {grid-area: 1/2/1/2;}
    a {
      &:nth-child(2) {grid-area: 1/1/span 2/2;}
      &:nth-child(3) {grid-area: 2/2/2/2;}
      &:nth-child(4) {grid-area: 1/3/span 2/3;}
    }
  }
}

// Tablet view
@media screen and (min-width: 25rem) {
  main {
    .btnexpand {height: 5rem;}
    #landing {
      > a { 
        clip-path: polygon(0 0, 0 100%, calc(100% - $landing-gap*2) 100%, 100% 0);
        margin-right: -$landing-gap*2 + $padding*1.25;
      }
      nav {
        width: calc($sitenav-width + $landing-gap/2);
        clip-path: polygon($landing-gap*2 0, 0 100%, 100% 100%, 100% 0);
        a {padding: $padding*2;}
      }
    }
    #art {
      .imggallery img {height: 12rem;}
    }
    #blog {
      flex-direction: row; width: 90%;
      margin: $padding auto $padding*2;
      #statuscafe { flex-basis: 55%; flex-shrink: 0; }
    }
  }
}
// Desktop view
@media screen and (min-width: 50rem) {
  header h1 {color: $green;}
  main {
    #blog {
      nav {
        a:hover {
          right: $padding/3;
          top: $padding/3;
          &::before {
            width: $padding/1.5;
            left: -$padding/1.5; top: $padding/3;
          }
          &::after {
          height: $padding/1.5;
          top: 100%; left: -$padding/3;
          }
        }
        a:active {
          right: $padding/2;
          top: $padding/2;
          &::before {
            width: $padding/2;
            left: -$padding/2; top: $padding/4;
          }
          &::after {
          height: $padding/2;
          top: 100%; left: -$padding/4;
          }
        }
      }
    }
  }
}
