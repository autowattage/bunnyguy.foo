@use 'sass:math';
@import 'varsindex';
@import 'colors';

main {
  display: flex; flex-direction: column; width: 100%;
  background-color: $black; color: $white;

  #landing {
    display: flex; padding: var(--padding) 0;
    background-color: $white; color: $black;
    > a {
      background-color: $red; flex-grow: 1; margin-right: calc(var(--padding) * 1.25 - var(--landing-gap));
      clip-path: polygon(0 0, 0 100%, calc(100% - var(--landing-gap)) 100%, 100% 0);
    }
    nav {
      display: flex; flex-direction: column;
      text-align: right;
      width: var(--sitenav-width);
      clip-path: polygon(var(--landing-gap) 0, 0 100%, 100% 100%, 100% 0);
      a {
        padding: var(--padding); color: $black;
        &:nth-child(1) {background-color: $yellow;}
        &:nth-child(2) {background-color: $green;}
        &:nth-child(3) {background-color: $blue;}
      }
    }
  }

  #art {
    display: flex; flex-direction: column; gap: var(--padding);
    background-color: $white; color: $black; padding-bottom: var(--padding);
    .imggallery img {height: 10rem;}
   }

  #blog {
    display: flex; gap: calc(var(--padding) * 2); flex-direction: column;
    padding: var(--padding) calc(var(--padding) * 2); justify-content: center;
    nav {
      transform: skew(5deg);
      display: flex; gap: calc(var(--padding) * 2);
      margin-left: var(--padding); flex-wrap: wrap;
      a {
        position: relative;
        flex-basis: 42%; flex-grow: 1; color: $black;
        background-color: $green; padding: var(--padding);
        box-shadow: calc(var(--padding)*-1) var(--padding) $blue;
        &:nth-child(1) {
          background-color: $yellow;
          box-shadow: calc(var(--padding)*-1) var(--padding) $green;
          &::after, &::before {background-color: $green;}
        }
        &:nth-child(3) {
          background-color: $blue;
          box-shadow: calc(var(--padding)*-1) var(--padding) $purple;
          &::after, &::before {background-color: $purple;}
        }
      }
      
      a::before, a::after {
        content:""; display: block; position: absolute;
        background-color: $blue;
      }
      a::before {
        left: calc(var(--padding) * -1); top: calc(var(--padding) / 2);
        width: var(--padding); height: 100%;
        transform: skew(0, -45deg);
      }
      a::after {
        right: calc(var(--padding) / 2); top:100%; 
        height: var(--padding); width: 100%;
        transform: skew(-45deg, 0);
      }
    }
    #statuscafe {
      transform: skew(5deg);
      background-color: $white; color: $black;
      padding: var(--padding) var(--padding) calc(var(--padding) * 3);
      clip-path: polygon(
        0 0,
        0 calc(100% - var(--padding)*2),
        calc(100% - var(--padding)*4) calc(100% - calc(var(--padding) * 2)),
        calc(100% - var(--padding)*3) 100%,
        calc(100% - var(--padding)*2) calc(100% - calc(var(--padding) * 2)),
        100% calc(100% - var(--padding)*2),
        100% 0
      )
    }
  }

  #code {
    display: flex; gap: var(--padding);
    padding-bottom: var(--padding); flex-direction: column;
    .btnexpand { order: 2; }
    > div {
      display: flex; gap: var(--padding); flex-direction: column;
      img {flex-basis: 8rem;}
      .imggallery {min-height: 0; flex-basis: 10rem;}
    }
  }
  #personal {
    display: flex; flex-direction: column; gap: var(--padding); height: 15rem;
    background-color: $white; color: $black; padding: var(--padding);
    h2 {
      text-align: center; margin: var(--padding);
    }
    > a {
      background-color: red; margin: 0;
      width: 100%; height: 100%;
    }
  }
}

// Tablet view
@media screen and (min-width: 25rem) {
  header h1 {color: $red !important;}
  main {
    .btnexpand {height: 5rem;}
    #landing {
      > a { 
        clip-path: polygon(0 0, 0 100%, calc(100% - var(--landing-gap)*2) 100%, 100% 0);
        margin-right: calc(var(--landing-gap) * -2 + var(--padding) * 1.25);
      }
      nav {
        width: calc(var(--sitenav-width) + var(--landing-gap)/2);
        clip-path: polygon(calc(var(--landing-gap) * 2) 0, 0 100%, 100% 100%, 100% 0);
        a {padding: calc(var(--padding) * 2);}
      }
    }
    #art {
      .imggallery img {height: 12rem;}
    }
    #blog {
      flex-direction: row; gap: var(--padding);
      padding: var(--padding) 5rem calc(var(--padding) * 2);
      #statuscafe { flex-basis: 55%; flex-shrink: 0; }
    }
    #personal {
      display: grid; grid-gap: var(--padding); height: 15rem;
      background-color: $white; color: $black; padding: var(--padding) 0;
      grid: auto 1fr / 1fr 1.75fr 1fr;
      h2 {margin: var(--padding) 0; grid-area: 1/2/1/2;}
      > a {
        background-color: red; margin: 0;
        width: 100%; height: 100%;
      }
      a {
        &:nth-child(2) {grid-area: 1/1/span 2/2;}
        &:nth-child(3) {grid-area: 2/2/2/2;}
        &:nth-child(4) {grid-area: 1/3/span 2/3;}
      }
    }
  }
}
// Desktop view
@media screen and (min-width: 50rem) {
  header h1 {color: $green !important;}
  main {
    #blog {
      nav {
        a:hover {
          right: calc(var(--padding) / 3);
          top: calc(var(--padding) / 3);
          box-shadow: calc(var(--padding)*-1/1.5) calc(var(--padding)/1.5) $blue;
          &:nth-child(1) { box-shadow: calc(var(--padding)*-1/1.5) calc(var(--padding)/1.5) $green;}
          &:nth-child(3) { box-shadow: calc(var(--padding)*-1/1.5) calc(var(--padding)/1.5) $purple;}
          &::before {
            width: calc(var(--padding) / 1.5);
            left: calc(var(--padding) / -1.5); top: calc(var(--padding) / 3);
          }
          &::after {
            height: calc(var(--padding) / 1.5);
            top: 100%; left: calc(var(--padding) / -3);
          }
        }
        a:active {
          right: calc(var(--padding) / 2);
          top: calc(var(--padding) / 2);
          box-shadow: calc(var(--padding)*-.5) calc(var(--padding)/2) $blue;
          &:nth-child(1) { box-shadow: calc(var(--padding)*-.5) calc(var(--padding)/2) $green;}
          &:nth-child(3) { box-shadow: calc(var(--padding)*-.5) calc(var(--padding)/2) $purple;}
          &::before {
            width: calc(var(--padding) / 2);
            left: calc(var(--padding) / -2); top: calc(var(--padding) / 4);
          }
          &::after {
            height: calc(var(--padding) / 2);
            top: 100%; left: calc(var(--padding) / -4);
          }
        }
      }
    }
    #code {
      flex-direction: row-reverse;
      .btnexpand {
        flex-direction: column; flex-shrink: 0;
        height: 100%; flex-basis: 14%; margin: 0 0 0 var(--padding);
        a:hover {
          padding: calc(var(--padding)*4) calc(var(--padding)*2);
        }
      }
      > img { flex-basis: 15rem;}
      .imggallery {flex-grow: 1;} 
    }
  }
}
